(window.webpackJsonp=window.webpackJsonp||[]).push([[14,7,9,11],{260:function(t,e,n){"use strict";n.r(e);n(35),n(23),n(34),n(12),n(50),n(29),n(51);var r=n(19);n(259);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={name:"AppFormInput",props:{value:{type:[String,Number],default:void 0},placeholder:{type:String,default:void 0},type:{type:String,default:"text"}},data:function(){return{localValue:this.value}},watch:{value:function(t){this.localValue=t}},computed:{inputListeners:function(){var t=this;return c(c({},this.$listeners),{},{input:function(e){t.$emit("input",e.target.value)}})}}},d=n(49),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",t._g({staticClass:"block w-full transition ease-in-out duration-150 text-gray-800 bg-white placeholder-gray-300 border border-gray-300 focus:border-blue-300 focus:ring focus:ring-opacity-50 focus:ring-blue-200 shadow-sm text-sm px-4 py-2 rounded",attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value}},t.inputListeners))}),[],!1,null,null,null);e.default=component.exports},261:function(t,e,n){"use strict";n.r(e);var r={name:"AppFormLabel"},o=n(49),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("label",{staticClass:"block text-gray-700 text-sm font-semibold mb-2 tracking-wide"},[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},265:function(t,e,n){"use strict";n.r(e);var r={name:"AppButton",data:function(){return{}},methods:{}},o=n(49),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"inline-flex items-center justify-center border focus:outline-none transition ease-in-out duration-150 text-white bg-indigo-600 hover:bg-indigo-800 border-indigo-600 hover:border-indigo-800 rounded text-sm px-4 py-2",on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},266:function(t,e,n){"use strict";n.r(e);n(259);var r={name:"AppFormSelect",props:{value:{type:[String,Number,Object,Boolean],default:void 0},options:{type:Array,default:function(){return[]}}},data:function(){return{localValue:this.value}},watch:{value:function(t){this.localValue=t}},methods:{onChange:function(t){this.$emit("input",t.target.value)}}},o=n(49),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{staticClass:"block w-full transition ease-in-out duration-150 text-gray-800 bg-white placeholder-gray-300 border border-gray-300 focus:border-blue-300 focus:ring focus:ring-opacity-50 focus:ring-blue-200 shadow-sm text-sm px-4 py-2 rounded",on:{change:t.onChange}},[n("option",{attrs:{value:""}},[t._v("Selecione")]),t._v(" "),t._l(t.options,(function(option){return n("option",{key:option.id,domProps:{value:option.id,selected:t.value===option.id}},[t._v("\n    "+t._s(option.name)+"\n  ")])}))],2)}),[],!1,null,null,null);e.default=component.exports},267:function(t,e,n){"use strict";var r=n(6),o=n(74).find,c=n(133),l="find",d=!0;l in[]&&Array(1).find((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},268:function(t,e,n){"use strict";n.r(e);n(35),n(34),n(50),n(29),n(51);var r=n(19),o=n(10),c=(n(60),n(23),n(43),n(267),n(12),n(265)),l=n(260),d=n(261),f=n(266);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"TransactionEdit",components:{AppButton:c.default,AppFormInput:l.default,AppFormLabel:d.default,AppFormSelect:f.default},data:function(){return{localTransaction:{date:this.transaction.date,description:this.transaction.description,amount:this.transaction.amount,categoryId:this.transaction.category.id},categories:[]}},props:{transaction:{type:Object,default:function(){return{}}}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("categories/getCategories");case 2:t.categories=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{updateTransaction:function(){var t=this;this.$store.dispatch("transactions/updateTransaction",{id:this.transaction.id,data:this.localTransaction}).then((function(e){t.$emit("update",v(v({},e),{},{category:t.categories.find((function(e){return e.id==t.localTransaction.categoryId}))})),t.onCancel()}))},deleteTransaction:function(){var t=this;this.$store.dispatch("transactions/deleteTransaction",{id:this.transaction.id,data:this.localTransaction}).then((function(e){t.$emit("delete",v(v({},e),{},{category:t.categories.find((function(e){return e.id==t.localTransaction.categoryId}))}))}))},onCancel:function(){this.$emit("cancel")}}},y=n(49),component=Object(y.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-4 mt-10 space-y-4"},[n("div",{staticClass:"grid sm:grid-cols-2 md:grid-cols-4 gap-5"},[n("div",[n("AppFormLabel",[t._v("Data da transação")]),t._v(" "),n("AppFormInput",{attrs:{type:"date"},model:{value:t.localTransaction.date,callback:function(e){t.$set(t.localTransaction,"date",e)},expression:"localTransaction.date"}})],1),t._v(" "),n("div",[n("AppFormLabel",[t._v("Valor")]),t._v(" "),n("AppFormInput",{attrs:{type:"number"},model:{value:t.localTransaction.amount,callback:function(e){t.$set(t.localTransaction,"amount",e)},expression:"localTransaction.amount"}})],1),t._v(" "),n("div",[n("AppFormLabel",[t._v("Descrição")]),t._v(" "),n("AppFormInput",{model:{value:t.localTransaction.description,callback:function(e){t.$set(t.localTransaction,"description",e)},expression:"localTransaction.description"}})],1),t._v(" "),n("div",[n("AppFormLabel",[t._v("Categoria")]),t._v(" "),n("AppFormSelect",{attrs:{options:t.categories},model:{value:t.localTransaction.categoryId,callback:function(e){t.$set(t.localTransaction,"categoryId",e)},expression:"localTransaction.categoryId"}})],1)]),t._v(" "),n("div",{staticClass:"space-x-4 flex items-center justify-end"},[n("a",{staticClass:"inline-flex text-gray-700 text-sm",attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onCancel()}}},[t._v(" Cancelar ")]),t._v(" "),n("a",{staticClass:"inline-flex items-center justify-center border focus:outline-none transition ease-in-out duration-150 text-white bg-red-600 hover:bg-red-800 border-orange-600 hover:border-rede-800 rounded text-sm px-3 py-2",attrs:{href:""},on:{click:t.deleteTransaction}},[t._v(" Excluir ")]),t._v(" "),n("AppButton",{on:{click:t.updateTransaction}},[t._v(" Editar ")])],1)])}),[],!1,null,null,null);e.default=component.exports},269:function(t,e,n){"use strict";var r=n(6),o=n(74).findIndex,c=n(133),l="findIndex",d=!0;l in[]&&Array(1).findIndex((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},272:function(t,e,n){"use strict";n.r(e);n(35),n(23),n(34),n(50),n(29),n(51);var r=n(19),o=n(10),c=(n(267),n(12),n(60),n(265)),l=n(260),d=n(261),f=n(266);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"TransactionAdd",components:{AppButton:c.default,AppFormInput:l.default,AppFormLabel:d.default,AppFormSelect:f.default},data:function(){return{form:{description:"",amount:"",date:"",categoryId:""},categories:[]}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("categories/getCategories");case 2:t.categories=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{onCancel:function(){this.$emit("cancel")},addTransaction:function(){var t=this;this.$store.dispatch("transactions/addTransaction",this.form).then((function(e){t.$emit("after-add",v(v({},e),{},{category:t.categories.find((function(e){return e.id==t.form.categoryId}))}))}))}}},y=n(49),component=Object(y.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-4 space-y-4 border-2 border-indigo-200 border-dashed bg-indigo-50 p-5 rounded-xl"},[n("div",{staticClass:"grid sm:grid-cols-2 md:grid-cols-4 gap-5"},[n("div",[n("AppFormLabel",[t._v("Data da transação")]),t._v(" "),n("AppFormInput",{attrs:{type:"date"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),t._v(" "),n("div",[n("AppFormLabel",[t._v("Valor")]),t._v(" "),n("AppFormInput",{attrs:{type:"number",placeholder:"0"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",t._n(e))},expression:"form.amount"}})],1),t._v(" "),n("div",[n("AppFormLabel",[t._v("Descrição")]),t._v(" "),n("AppFormInput",{model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("div",[n("AppFormLabel",[t._v("Categoria")]),t._v(" "),n("AppFormSelect",{attrs:{options:t.categories},model:{value:t.form.categoryId,callback:function(e){t.$set(t.form,"categoryId",e)},expression:"form.categoryId"}})],1)]),t._v(" "),n("div",{staticClass:"space-x-4 flex items-center justify-end"},[n("a",{staticClass:"inline-flex text-gray-700 text-sm",attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onCancel()}}},[t._v(" Cancelar ")]),t._v(" "),n("AppButton",{on:{click:t.addTransaction}},[t._v(" Adicionar ")])],1)])}),[],!1,null,null,null);e.default=component.exports},273:function(t,e,n){"use strict";n.r(e);var r={name:"Transaction",components:{TransactionEdit:n(268).default},props:{transaction:{type:Object,default:function(){return{}}}},data:function(){return{isUpdating:!1}},methods:{onUpdate:function(t){this.$emit("update",t)},onDelete:function(t){this.$emit("delete",t)}}},o=n(49),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 py-6 bg-white rounded-lg shadow"},[n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"flex items-center space-x-5"},[n("div",[n("div",[n("div",{staticClass:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800"},[t._v("\n            "+t._s(t.transaction.category.name)+"\n          ")])]),t._v(" "),n("div",{staticClass:"mt-1.5"},[t._v(t._s(t.transaction.description))])])]),t._v(" "),n("div",{staticClass:"flex items-center space-x-4 ml-auto"},[n("div",{staticClass:"flex items-center"},[t.transaction.amount>0?n("svg",{staticClass:"w-4 h-4 text-red-600",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"}})]):n("svg",{staticClass:"w-4 h-4 text-green-600",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}})]),t._v(" "),n("div",{staticClass:"font-bold"},[t._v("\n                  "+t._s(new Intl.NumberFormat("pt-br",{style:"currency",currency:"BRL",signDisplay:"never"}).format(t.transaction.amount))+"\n                ")])]),t._v(" "),n("button",{on:{click:function(e){t.isUpdating=!t.isUpdating}}},[n("svg",{staticClass:"w-4 h-4",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])])])]),t._v(" "),t.isUpdating?n("TransactionEdit",{attrs:{transaction:t.transaction},on:{cancel:function(e){t.isUpdating=!1},update:t.onUpdate,delete:t.onDelete}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},274:function(t,e,n){"use strict";n.r(e);var r=n(10),o=(n(23),n(43),n(60),n(270)),c=n(260),l=n(261),d=n(266),f={name:"TransactionFilter",components:{AppFormInput:c.default,AppFormLabel:l.default,AppFormSelect:d.default},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("categories/getCategories");case 2:t.categories=e.sent;case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{form:{description:"",categoryId:""},categories:[]}},watch:{form:{deep:!0,handler:function(){this.onFilterDebounce()}}},methods:{onFilterDebounce:Object(o.debounce)((function(){this.onFilter()}),300),onFilter:function(){this.$emit("filter",{description:this.form.description||void 0,categoryId:this.form.categoryId||void 0})}}},m=n(49),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-6 pb-6 flex items-center space-x-4 border-b border-gray-300"},[n("div",[n("AppFormLabel",[t._v("Descrição")]),t._v(" "),n("AppFormInput",{model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("div",[n("AppFormLabel",[t._v("Categoria")]),t._v(" "),n("AppFormSelect",{attrs:{options:t.categories},model:{value:t.form.categoryId,callback:function(e){t.$set(t.form,"categoryId",e)},expression:"form.categoryId"}})],1)])}),[],!1,null,null,null);e.default=component.exports},279:function(t,e,n){"use strict";n.r(e);var r=n(10),o=(n(269),n(191),n(60),n(270)),c=n(272),l=n(273),d=n(274),f={name:"IndexPage",components:{AppButton:n(265).default,TransactionAdd:c.default,Transaction:l.default,TransactionFilter:d.default},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.next=3,n.dispatch("transactions/getTransactions");case 3:return e.t0=e.sent,e.abrupt("return",{transactions:e.t0});case 5:case"end":return e.stop()}}),e)})))()},data:function(){return{isAdding:!1}},computed:{transactionsGroup:function(){return Object(o.groupBy)(Object(o.orderBy)(this.transactions,"date","desc"),"date")}},methods:{formateDate:function(t){return this.$dayjs(t).format("DD/MM/YYYY")},afterAdd:function(t){this.transactions.push(t)},onUpdate:function(t){var e=this.transactions.findIndex((function(e){return e.id===t.id}));this.transactions.splice(e,1,t)},onDelete:function(t){var e=this.transactions.findIndex((function(e){return e.id===t.id}));this.transactions.splice(e,1,t)},onFilter:function(filter){var t=this;this.$store.dispatch("transactions/getTransactions",filter).then((function(e){t.transactions=e}))}}},m=n(49),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"max-w-7xl mx-auto p-4"},[n("div",{staticClass:"mt-4"},[n("div",{staticClass:"flex items-center justify-between"},[n("h1",{staticClass:"font-bold text-2xl"},[t._v("Transações")]),t._v(" "),n("AppButton",{on:{click:function(e){t.isAdding=!t.isAdding}}},[t._v(" Nova transação ")])],1),t._v(" "),t.isAdding?n("TransactionAdd",{on:{"after-add":t.afterAdd,cancel:function(e){t.isAdding=!1}}}):t._e(),t._v(" "),n("TransactionFilter",{on:{filter:t.onFilter}}),t._v(" "),t._l(t.transactionsGroup,(function(e,r){return n("div",{key:r,staticClass:"mb-1"},[n("div",{staticClass:"font-bold text-sm"},[t._v(t._s(t.formateDate(r)))]),t._v(" "),n("div",{staticClass:"space-y-3"},t._l(e,(function(e){return n("Transaction",{key:e.id,attrs:{transaction:e},on:{update:t.onUpdate,delete:t.onDelete}})})),1)])}))],2)])])}),[],!1,null,null,null);e.default=component.exports}}]);